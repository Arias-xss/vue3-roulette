var vue3Roulette=function(e,n){"use strict";var t=n.defineComponent({name:"Roulette",emits:["wheelStart","wheelEnd"],props:{items:{type:Object,required:!0,validator:function(e){return e.length>=4}},firstItemIndex:{type:Object,required:!1,default:function(){return{value:0}}},centeredIndicator:{type:Boolean,required:!1,default:!1},indicatorPosition:{type:String,required:!1,default:"top",validator:function(e){return["top","right","bottom","left"].includes(e)}},size:{type:Number,required:!1,default:300},displayShadow:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:4},resultVariation:{type:Number,required:!1,default:0,validator:function(e){return e>=0&&e<=100}},easing:{type:String,required:!1,default:"ease",validator:function(e){return["ease","bounce"].includes(e)}},counterClockwise:{type:Boolean,required:!1,default:!1},horizontalContent:{type:Boolean,required:!1,default:!1},displayBorder:{type:Boolean,required:!1,default:!1},displayIndicator:{type:Boolean,required:!1,default:!0},baseDisplay:{type:Boolean,required:!1,default:!1},baseSize:{type:Number,required:!1,default:100},baseDisplayShadow:{type:Boolean,required:!1,default:!1},baseDisplayIndicator:{type:Boolean,required:!1,default:!1},baseBackground:{type:String,required:!1,default:""}},data:function(){return{itemSelected:null,processingLock:!1}},computed:{itemAngle:function(){return 360/this.items.length},startingAngle:function(){return this.centeredIndicator?-1*this.firstItemIndex.value*this.itemAngle-this.itemAngle/2:-1*this.firstItemIndex.value*this.itemAngle},degreesVariation:function(){if(!this.resultVariation)return 0;var e=this.itemAngle/2*this.resultVariation/100*-1,n=this.itemAngle/2*this.resultVariation/100;return Number((Math.random()*(n-e)+e).toFixed(2))},counterClockWiseOperator:function(){return this.counterClockwise?-1:1}},mounted:function(){var e=this;this.reset(),document.querySelector(".wheel").addEventListener("transitionend",(function(){e.processingLock=!1,e.$emit("wheel-end",e.itemSelected)}))},methods:{reset:function(){this.itemSelected=null,document.querySelector(".wheel").style.transform="rotate(".concat(this.startingAngle,"deg)")},launchWheel:function(){if(!this.processingLock||null==this.itemSelected){this.processingLock=!0;var e=Math.floor(Math.random()*this.items.length+1),n=document.querySelector(".wheel");console.log("wheelResult",e),this.itemSelected=this.items[e-1],n.style.transform="rotate(".concat(1080*this.counterClockWiseOperator+-(e-1)*this.itemAngle-this.itemAngle/2+this.degreesVariation,"deg)"),this.$emit("wheel-start")}}}}),r={class:"wheel-base"},o={key:0,class:"wheel-base-indicator"},i=["innerHTML"];return function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.wheel-container,\n.wheel-base,\n.wheel-base-container,\n.wheel-base-indicator {\n  transition: transform 1s ease-in-out;\n}\n.wheel-container {\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.wheel-container-indicator:before {\n  content: "";\n  position: absolute;\n  z-index: 4;\n  width: 0;\n  height: 0;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent;\n  border-top: 20px solid black;\n  transform: translateX(-50%);\n}\n.wheel-container.indicator-top {\n  transform: rotate(0deg);\n}\n.wheel-container.indicator-right {\n  transform: rotate(90deg);\n}\n.wheel-container.indicator-right .wheel-base {\n  transform: rotate(-90deg);\n}\n.wheel-container.indicator-bottom {\n  transform: rotate(180deg);\n}\n.wheel-container.indicator-bottom .wheel-base {\n  transform: rotate(-180deg);\n}\n.wheel-container.indicator-left {\n  transform: rotate(270deg);\n}\n.wheel-container.indicator-left .wheel-base {\n  transform: rotate(-270deg);\n}\n.wheel-container-border {\n  border: 8px solid black;\n}\n.wheel-container-shadow {\n  box-shadow: 5px 5px 15px -5px #000000;\n}\n.wheel-base-container {\n  position: absolute;\n  z-index: 2;\n  top: 50%;\n  left: 50%;\n  border-radius: 50%;\n  border: 5px solid black;\n  transform: translate(-50%, -50%);\n}\n.wheel-base-container-shadow {\n  box-shadow: 5px 5px 15px -5px #000000;\n}\n.wheel-base-container .wheel-base {\n  position: absolute;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n.wheel-base-container .wheel-base-indicator {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n}\n.wheel-base-container .wheel-base-indicator:before {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  top: -20px;\n  width: 0;\n  height: 0;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent;\n  border-bottom: 20px solid black;\n  transform: translateX(-50%);\n}\n.wheel {\n  background: white;\n  border-radius: 50%;\n  margin: auto;\n  overflow: hidden;\n}\n.wheel.easing-ease {\n  transition: transform cubic-bezier(0.65, 0, 0.35, 1);\n}\n.wheel.easing-bounce {\n  transition: transform cubic-bezier(0.49, 0.02, 0.52, 1.12);\n}\n.wheel-border:after {\n  content: "";\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 3;\n  border-radius: 50%;\n  background-image: linear-gradient(to left, black 33%, rgba(255, 255, 255, 0) 0%);\n  background-position: bottom;\n  background-size: 3px 1px;\n  /* background:linear-gradient(red,purple,orange); */\n  -webkit-mask: radial-gradient(transparent 65%, #000 66%);\n  mask: radial-gradient(transparent 65%, #000 66%);\n}\n.wheel-item {\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 50%;\n  height: 50%;\n  transform-origin: 0% 100%;\n  border: 1px solid black;\n}\n.wheel-item:nth-child(odd) {\n  background-color: skyblue;\n}\n.wheel-item:nth-child(even) {\n  background-color: pink;\n}\n.wheel .content {\n  position: absolute;\n  left: -100%;\n  width: 200%;\n  height: 200%;\n  text-align: center;\n  transform: skewY(30deg) rotate(0deg);\n  padding-top: 20px;\n}\n.wheel .content.horizontal-content {\n  left: initial;\n  right: 100%;\n  width: 50%;\n  height: 250%;\n  text-align: right;\n}\n.wheel .content.horizontal-content span {\n  display: block;\n  transform: rotate(270deg);\n}'),t.render=function(e,t,a,l,s,d){return n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["wheel-container",["indicator-".concat(e.indicatorPosition),{"wheel-container-indicator":e.displayIndicator},{"wheel-container-shadow":e.displayShadow},{"wheel-container-border":e.displayBorder}]])},[e.baseDisplay?(n.openBlock(),n.createElementBlock("div",{key:0,class:n.normalizeClass(["wheel-base-container",[{"wheel-base-container-shadow":e.baseDisplayShadow}]]),style:n.normalizeStyle({width:"".concat(e.baseSize,"px"),height:"".concat(e.baseSize,"px"),background:"".concat(e.baseBackground)})},[n.createElementVNode("div",r,[n.renderSlot(e.$slots,"baseContent")]),e.baseDisplayIndicator?(n.openBlock(),n.createElementBlock("div",o)):n.createCommentVNode("",!0)],6)):n.createCommentVNode("",!0),n.createElementVNode("div",{class:n.normalizeClass(["wheel",["easing-".concat(e.easing),{"wheel-border":e.displayBorder}]]),style:n.normalizeStyle({width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),transitionDuration:"".concat(e.duration,"s"),transform:"rotate(".concat(this.startingAngle,"deg)")})},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.items,(function(t,r){return n.openBlock(),n.createElementBlock("div",{key:t.id,class:"wheel-item",style:n.normalizeStyle({transform:"rotate(".concat(e.itemAngle*r,"deg) skewY(").concat(-(90-e.itemAngle),"deg)")})},[n.createElementVNode("div",{class:n.normalizeClass(["content",{"horizontal-content":e.horizontalContent}]),style:n.normalizeStyle({transform:"skewY(".concat(90-e.itemAngle,"deg) rotate(").concat(e.itemAngle/2,"deg)"),background:t.background})},[n.createElementVNode("span",{innerHTML:t.htmlContent,style:n.normalizeStyle({color:t.textColor})},null,12,i)],6)],4)})),128))],6)],2)},e.Roulette=t,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);